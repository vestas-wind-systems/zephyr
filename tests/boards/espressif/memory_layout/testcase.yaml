common:
  tags: memory
  platform_allow:
    - esp32_devkitc/esp32/procpu
    - esp32s2_devkitc
    - esp32s3_devkitc/esp32s3/procpu
    - esp8684_devkitm
    - esp32c3_devkitm
    - esp32c6_devkitc/esp32c6/hpcore
    - esp32h2_devkitm
  harness: console
  harness_config:
    type: multi_line
    regex:
      - "total SRAM region: (.*) bytes"
      - "heap boundary: (.*) KB verified"
      - "PASS"
tests:
  boards.espressif.memory_layout.simple_boot: {}
  boards.espressif.memory_layout.mcuboot:
    sysbuild: true

# Copyright (c) 2026 Microchip Technology Inc.
# SPDX-License-Identifier: Apache-2.0

title: PIC32CM_PL External Crystal Oscillator (XOSC32K)

description: |
  32.768 kHz External Crystal Oscillator (XOSC32K) Control.

include: [base.yaml]

compatible: "microchip,pic32cm-pl-xosc32k"

properties:
  xosc32k-startup-time:
    type: string
    enum:
      - "1K"
      - "16K"
      - "32K"
      - "64K"
    default: "1K"
    description: |
      Oscillator Start-Up Time

      1K : 1K XOSC32K cycles
      16K: 16K XOSC32K cycles
      32k: 32K XOSC32K cycles
      64K: 64K XOSC32K cycles

  xosc32k-on-demand-en:
    type: int
    enum:
      - 0
      - 1
    default: 0
    description: |
      On Demand Configuration

      0: The oscillator is always on, if standby-en is true, else run in
         Standby Sleep mode if requested by a peripheral.
      1: Run if requested by peripheral
      Important: Initializing it with 1, along with clock enabled, can lead to indefinite wait for
      the clock to be on, if there is no peripheral request for the clock in the sequence of clock
      Initialization. If required, better to turn on the clock using API, instead of enabling both
      during startup.

  xosc32k-xtal-en:
    type: int
    enum:
      - 0
      - 1
    default: 0
    description: |
      xosc32k source selection

      Selects external clock or crystal oscillator
      0 - External clock connected on XIN. XOUT can be used as general-purpose I/O.
      1 - Crystal connected to XIN/XOUT.

  xosc32k-en:
    type: int
    enum:
      - 0
      - 1
    default: 0
    description: |
      Oscillator Enable

      0: to disable, 1: to enable

  xosc32k-cfd-en:
    type: int
    enum:
      - 0
      - 1
    default: 0
    description: |
      Clock Failure Detector Enable

      0: to disable, 1: to enable

  low-power-en:
    type: int
    enum:
      - 0
      - 1
    default: 0
    description: |
      Run Oscillator in Low Power Mode

      0: to disable, 1: to enable
